{"version":3,"sources":["components/ImageGallery/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/Container/Container.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Container/Container.js","components/SearchBar/Searchbar.js","services/image-api.js","components/ImageGallery/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","index.js","components/SearchBar/SearchBar.module.css"],"names":["module","exports","Container","children","className","s","Searchbar","state","query","handleChangeQuery","currentTarget","setState","value","handleSubmit","event","preventDefault","trim","props","onSubmit","alert","this","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","autoComplete","autoFocus","placeholder","Component","axios","defaults","baseURL","fetchImages","searchQuery","page","get","then","data","hits","propTypes","PropTypes","string","isRequired","currentPage","number","ImageGalleryItem","webformatURL","largeImageURL","tags","onSetImgInfo","openModal","src","alt","ImageGalleryItemImage","onClick","ImageGallery","images","map","idx","Button","onLoadMore","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","Overlay","override","css","Loader","loading","size","color","App","isLoading","showModal","imgTags","error","handleSubmitForm","imageApi","length","prevState","scrollToBottom","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","setImgInfo","prevProps","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.4fe91171.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3KM3W\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__3T9UP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__sD2-9\",\"Modal\":\"Modal_Modal__2ISTa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"Container_Container__13Oyy\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1nBwg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__An65P\"};","import PropTypes from 'prop-types';\nimport s from './Container.module.css';\n\nconst Container = ({ children }) => (\n  <div className={s.Container}>{children}</div>\n);\n\nContainer.propTypes = {\n  children: PropTypes.node,\n};\n\nexport default Container;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport s from './SearchBar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleChangeQuery = ({ currentTarget }) => {\n    this.setState({ query: currentTarget.value });\n  };\n\n  handleSubmit = event => {\n    event.preventDefault();\n\n    const { query } = this.state;\n\n    if (query.trim() === '') {\n      alert('Enter what you are looking for.');\n      return;\n    }\n\n    this.props.onSubmit(query);\n    this.setState({ query: '' });\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.handleSubmit} className={s.SearchForm}>\n          <button type=\"submit\" className={s.SearchFormButton}>\n            <span className={s.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            value={query}\n            onChange={this.handleChangeQuery}\n            className={s.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nimport PropTypes from 'prop-types';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst apiKey = '18638925-2c8019a9c3774592e4e395576';\n\nconst fetchImages = ({ searchQuery = '', page = 1 }) => {\n  return axios\n    .get(\n      `/?q=${searchQuery}&page=${page}&key=${apiKey}&image_type=photo&orientation=horizontal&per_page=12`,\n    )\n    .then(({ data }) => data.hits);\n};\n\nfetchImages.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  currentPage: PropTypes.number.isRequired,\n};\n\nexport default fetchImages;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags = '',\n  onSetImgInfo,\n  openModal,\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItemImage}\n        onClick={() => {\n          onSetImgInfo({ largeImageURL, tags });\n          openModal();\n        }}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  tags: PropTypes.string,\n  onSetImgInfo: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import ImageGalleryItem from './ImageGalleryItem';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, onSetImgInfo, openModal }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ webformatURL, largeImageURL, tags }, idx) => (\n        <ImageGalleryItem\n          key={idx}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          onSetImgInfo={onSetImgInfo}\n          openModal={openModal}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n  onSetImgInfo: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst Button = ({ onLoadMore }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={() => onLoadMore()}>\n      Load more\n    </button>\n  );\n};\n\nButton.propTypes = {\n  onLoadMore: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = event => {\n    if (event.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  children: PropTypes.node,\n  onClose: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { css } from '@emotion/core';\nimport RingLoader from 'react-spinners/RingLoader';\n\nconst override = css`\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n`;\n\nexport default class Loader extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n    };\n  }\n\n  render() {\n    return (\n      <div className=\"sweet-loading\">\n        <RingLoader\n          css={override}\n          size={60}\n          color={'#36d7b7'}\n          loading={this.state.loading}\n        />\n      </div>\n    );\n  }\n}\n","import { Component } from 'react';\n\nimport Container from './components/Container';\nimport SearchBar from './components/SearchBar';\nimport imageApi from './services/image-api';\nimport ImageGallery from './components/ImageGallery';\nimport Button from './components/Button';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\n\nexport default class App extends Component {\n  state = {\n    searchQuery: 'landscape',\n    isLoading: false,\n    page: 1,\n    images: [],\n    showModal: false,\n    largeImageURL: null,\n    imgTags: null,\n    error: null,\n  };\n\n  componentDidMount() {\n    this.fetchImages();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.searchQuery !== this.state.searchQuery) {\n      this.fetchImages();\n    }\n  }\n\n  handleSubmitForm = query => {\n    if (this.state.searchQuery === query) {\n      return;\n    }\n\n    this.setState({\n      searchQuery: query,\n      page: 1,\n      images: [],\n    });\n  };\n\n  fetchImages = () => {\n    const { searchQuery, page } = this.state;\n\n    this.setState({ isLoading: true });\n\n    imageApi({ searchQuery, page })\n      .then(images => {\n        if (images.length < 1) {\n          this.setState({ error: true });\n        } else {\n          this.setState(prevState => ({\n            images: [...prevState.images, ...images],\n            page: prevState.page + 1,\n            error: false,\n          }));\n          if (page !== 1) {\n            this.scrollToBottom();\n          }\n        }\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  scrollToBottom = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  setImgInfo = ({ largeImageURL, tags }) => {\n    this.setState({ largeImageURL, tags });\n  };\n\n  render() {\n    const {\n      images,\n      showModal,\n      largeImageURL,\n      imgTags,\n      isLoading,\n      error,\n    } = this.state;\n\n    return (\n      <Container>\n        <SearchBar onSubmit={this.handleSubmitForm} />\n        {error && <p>Whoops, something went wrong.</p>}\n        {isLoading && <Loader />}\n        <ImageGallery\n          images={images}\n          openModal={this.toggleModal}\n          onSetImgInfo={this.setImgInfo}\n        />\n        {images.length > 0 && !isLoading && (\n          <Button onLoadMore={this.fetchImages} />\n        )}\n\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </Container>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__2XFkN\",\"SearchForm\":\"SearchBar_SearchForm__3cQIk\",\"SearchFormButton\":\"SearchBar_SearchFormButton__1egwe\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3VT3g\",\"SearchFormInput\":\"SearchBar_SearchFormInput__3OmM9\"};"],"sourceRoot":""}